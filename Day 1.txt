Langkah-2 Menyiapkan Env. Labs

01. Install VMWare Workstation Player
02. Extract VM.zip	=> C:\VM
03. - Double Click Shortcut "VMware Workstation 16 Player"
	- Buka Image Virtual Machine yg
      ada di C:\VM\Windows 10 x64.vmx
04. Install Navicat
	- Double Click navicat150_premium_en_x64.exe
	
	
=== Membuat koneksi di Navicat ke Oracle DB ===

01. Buka Navicat
02. Pilih "Connection" => Oracle ...
	- Connection Name : HR - Oracle DB
	- Connection Type : Basic
	- Host : Localhost
	- Port : 1521
	- Service Name : prod
	- User Name : HR
	- Password  : Welcome1

=== Review Perintah SQL ===

01. Menampilkan isi sebuah table

	SELECT *
	FROM regions;
	
	SELECT first_name, salary, hire_date
	FROM employees;

02. Filter Data

	SELECT *
	FROM regions
	WHERE region_id = 1;
	
	SELECT first_name, salary, hire_date
	FROM employees
	WHERE department_id = 30;	

03. Mengurutkan Data

	SELECT first_name, salary, hire_date
	FROM employees
	WHERE department_id = 30
	ORDER BY first_name;	

	SELECT first_name, salary, hire_date
	FROM employees
	WHERE department_id = 30
	ORDER BY salary DESC;

=== 02. Reporting Aggregated Data Using the Group Functions ===

01. Using the AVG and SUM Functions

	SELECT AVG(salary), MAX(salary),
		   MIN(salary), SUM(salary)
	FROM employees
	WHERE job_id LIKE '%REP%';

	SELECT ROUND(AVG(salary),2), MAX(salary),
		   MIN(salary), SUM(salary)
	FROM employees
	WHERE job_id LIKE '%REP%';

02. Using the MIN and MAX Functions

	SELECT MIN(hire_date), MAX(hire_date)
	FROM employees;

03. Using the COUNT Function

	SELECT COUNT(*)
	FROM employees
	WHERE department_id = 50;

	SELECT COUNT(commission_pct)
	FROM employees
	WHERE department_id = 50;

04. Using the DISTINCT Keyword

	SELECT COUNT(department_id)
	FROM employees;

	SELECT COUNT(DISTINCT department_id)
	FROM employees;

	SELECT COUNT(department_id)
	FROM departments;

05. Group Functions and Null Values

	SELECT AVG(commission_pct)
	FROM employees;

		Note: dibagi dg karyawan yg dapat komisi saja
		
	SELECT AVG(NVL(commission_pct, 0))
	FROM employees;

		Note: dibagi dg seluruh karyawan 
		   
06. Using the GROUP BY Clause

	SELECT department_id, AVG(salary)
	FROM employees
	GROUP BY department_id ;

07. Using the GROUP BY Clause on Multiple Columns

	SELECT department_id, job_id, SUM(salary)
	FROM employees
	WHERE department_id > 40
	GROUP BY department_id, job_id
	ORDER BY department_id;

08. Illegal Queries Using Group Functions

	SELECT department_id, COUNT(last_name)
	FROM employees;
		
		 ORA-00937: not a single-group group function
	
	SELECT department_id, COUNT(last_name)
	FROM employees
	GROUP BY department_id;	

	----------------------------------
	
	SELECT department_id, job_id, COUNT(last_name)
	FROM employees
	GROUP BY department_id;

		 ORA-00979: not a GROUP BY expression
		 
	SELECT department_id, job_id, COUNT(last_name)
	FROM employees
	GROUP BY department_id, job_id;	

09. Illegal Queries Using Group Functions

	SELECT department_id, AVG(salary)
	FROM employees
	WHERE AVG(salary) > 8000
	GROUP BY department_id;

		ORA-00934: group function is not allowed here

	SELECT department_id, AVG(salary)  --> ROUND(AVG(salary))
	FROM employees
	GROUP BY department_id
	HAVING AVG(salary) > 8000;

10. Using the HAVING Clause

	SELECT department_id, MAX(salary)
	FROM employees
	GROUP BY department_id
	HAVING MAX(salary)>10000 ;

11. Using the HAVING Clause

	SELECT job_id, SUM(salary) PAYROLL
	FROM employees
	WHERE job_id NOT LIKE '%REP%'
	GROUP BY job_id
	HAVING SUM(salary) > 13000
	ORDER BY SUM(salary);

12. Nesting Group Functions

	SELECT MAX(AVG(salary))
	FROM employees
	GROUP BY department_id;

	SELECT ROUND(MAX(AVG(salary)),2) AS avg_salary
	FROM employees
	GROUP BY department_id;







	








